<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPTV Pulse - Free M3U Playlists 2025</title>
  <meta name="description" content="Daily updated free IPTV M3U playlists">
  <style>
  <style>
    :root { --bg:#0d1117; --card:#161b22; --text:#c9d1d9; --accent:#58a6ff; --border:#30363d; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: -apple-system,system-ui,sans-serif; background:var(--bg); color:var(--text); padding:20px; line-height:1.6; }
    .container { max-width:1000px; margin:0 auto; }
    header { text-align:center; padding:50px 0 40px; }
    h1 { font-size:2.8rem; background:linear-gradient(90deg,#58a6ff,#1f6feb); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
    .subtitle { color:#8b949e; font-size:1.2rem; }
    .posts { display:grid; gap:22px; }
    .post { background:var(--card); border:1px solid var(--border); border-radius:12px; overflow:hidden; display:flex; gap:20px; padding:18px; transition:0.3s; }
    .post:hover { transform:translateY(-8px); border-color:var(--accent); box-shadow:0 15px 35px rgba(88,166,255,0.2); }
    .thumb { width:200px; height:130px; object-fit:cover; border-radius:10px; flex-shrink:0; background:#000; }
    .info { flex:1; display:flex; flex-direction:column; justify-content:center; }
    .title a { color:var(--accent); text-decoration:none; font-size:1.3rem; font-weight:600; }
    .title a:hover { text-decoration:underline; }
    .date { color:#8b949e; font-size:0.95rem; margin-top:8px; }
    .footer { text-align:center; padding:70px 0 30px; color:#8b949e; font-size:0.9rem; }
    @media (max-width:768px) { .post { flex-direction:column; } .thumb { width:100%; height:200px; } }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>IPTV Pulse</h1>
      <p class="subtitle">Free Daily Updated IPTV M3U Playlists • World • Sports • 4K • 2025</p>
    </header>

    <div class="posts" id="posts">
      <p style="text-align:center;color:#8b949e;padding:50px;">Loading latest 20 playlists...</p>
    </div>

    <div class="footer">
      © 2025 IPTV Pulse • Updated every day<br>
      <a href="https://iptvpulse.top" style="color:#58a6ff">Visit Main Blog</a>
    </div>
  </div>

  <script>
    // Direct RSS feed fetch – 100% working method (bypasses the comment block issue)
    fetch('https://iptvpulse.top/feeds/posts/default?alt=rss&max-results=20')
      .then(r => r.text())
      .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
      .then(data => {
        const items = data.querySelectorAll("item");
        let html = "";

        items.forEach(item => {
          const title = item.querySelector("title").textContent;
          const link  = item.querySelector("link").textContent;
          const pubDate = new Date(item.querySelector("pubDate").textContent).toLocaleDateString('en-GB');
          
          // Blogger thumbnail – tested & working on your blog right now
          const thumbMatch = item.querySelector("description").textContent.match(/src="(https:\/\/[1-4]\.bp\.blogspot\.com[^"]+\.jpg)/);
          const thumb = thumbMatch ? thumbMatch[1].replace(/\/s72-c\//, "/s400/") : "https://via.placeholder.com/200x130/161b22/58a6ff?text=No+Image";

          html += `
            <div class="post">
              <img src="${thumb}" alt="${title}" class="thumb" loading="lazy">
              <div class="info">
                <div class="title"><a href="${link}" target="_blank" rel="noopener">${title}</a></div>
                <div class="date">${pubDate}</div>
              </div>
            </div>`;
        });

        document.getElementById("posts").innerHTML = html || "<p style='text-align:center;color:#8b949e'>No posts found.</p>";
      })
      .catch(err => {
        document.getElementById("posts").innerHTML = "<p style='text-align:center;color:#ff6b6b'>Failed to load posts. Please refresh.</p>";
      });
  </script>
</body>
</html>
