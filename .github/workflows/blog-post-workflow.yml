<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IPTV Pulse - Free M3U Playlists 2025</title>
  <meta name="description" content="Daily fresh IPTV M3U playlists - World, Sports, 4K, Adult, Movies">
  <style>
    :root { --bg:#0d1117; --card:#161b22; --text:#c9d1d9; --accent:#58a6ff; --border:#30363d; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: -apple-system,system-ui,sans-serif; background:var(--bg); color:var(--text); padding:20px; line-height:1.6; }
    .container { max-width:1000px; margin:0 auto; }
    header { text-align:center; padding:40px 0 50px; }
    h1 { font-size:2.8rem; background:linear-gradient(90deg,#58a6ff,#1f6feb); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
    .subtitle { color:#8b949e; font-size:1.2rem; margin-top:10px; }
    .posts { display:grid; gap:20px; }
    .post {
      background:var(--card); border:1px solid var(--border); border-radius:12px; overflow:hidden;
      transition:0.3s; display:flex; gap:18px; padding:16px;
    }
    .post:hover { transform:translateY(-6px); border-color:var(--accent); box-shadow:0 12px 30px rgba(88,166,255,0.2); }
    .thumb {
      width:180px; height:120px; object-fit:cover; border-radius:8px; flex-shrink:0;
    }
    }
    .info { flex:1; }
    .title { font-size:1.25rem; margin-bottom:8px; }
    .title a { color:var(--accent); text-decoration:none; }
    .title a:hover { text-decoration:underline; }
    .date { color:#8b949e; font-size:0.9rem; }
    .footer { text-align:center; padding:60px 0 20px; color:#8b949e; font-size:0.9rem; }
    @media (max-width:720px) {
      .post { flex-direction:column; }
      .thumb { width:100%; height:180px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>IPTV Pulse</h1>
      <p class="subtitle">Free Daily Updated IPTV M3U Playlists • 2025</p>
    </header>

    <div class="posts" id="posts"></div>

    <div class="footer">
      © 2025 IPTV Pulse • Updated every day<br>
      <a href="https://iptvpulse.top" style="color:#58a6ff">Visit Main Blog</a>
    </div>
  </div>

  <script>
    const start = "<!-- BLOG-POST-LIST:START -->";
    const end   = "<!-- BLOG-POST-LIST:END -->";
    const raw   = document.body.innerHTML;
    const container = document.getElementById("posts");

    if (raw.includes(start) && raw.includes(end)) {
      const list = raw.split(start)[1].split(end)[0].trim();
      let html = "";

      const items = list.split("\n").filter(line => line.trim().startsWith("- ["));

      items.forEach(item => {
        const titleMatch = item.match(/\[(.*?)\]\((https?:\/\/[^\s\)]+)\)/);
        if (!titleMatch) return;

        const title = titleMatch[1];
        const link  = titleMatch[2];
        const date  = item.match(/\((.*?)\)/)?.[1] || "";

        // Extract thumbnail from Blogger post (400px cropped version)
        const thumb = link.replace(/\/[^\/]+$/, "/") + "s400-c/image.jpg";

        html += `
          <div class="post">
            <img src="${thumb}" alt="${title}" class="thumb" loading="lazy"
                 onerror="this.style.display='none'">
            <div class="info">
              <div class="title"><a href="${link}" target="_blank" rel="noopener">${title}</a></div>
              ${date ? `<div class="date">${date}</div>` : ""}
            </div>
          </div>`;
      });

      container.innerHTML = html || "<p style='text-align:center;color:#8b949e'>No posts found yet.</p>";
    }
  </script>
</body>
</html>
